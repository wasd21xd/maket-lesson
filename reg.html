<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Login / Register</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #3a3a3a;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			margin: 0;
		}

		.login-container {
			background: #fff;
			width: 350px;
			border-radius: 16px;
			padding: 20px;
			box-shadow: 0 4px 20px rgba(0,0,0,0.2);
			position: relative;
		}

		.close-btn {
			position: absolute;
			top: 15px;
			right: 15px;
			font-size: 35px;
			color: #666;
			cursor: pointer;
		}

		.login-header {
			text-align: center;
			padding-bottom: 15px;
			border-bottom: 1px solid #eee;
		}

		.login-header .icon {
			background: #f3f3f3;
			width: 50px;
			height: 50px;
			border-radius: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0 auto 10px;
			font-size: 22px;
			color: #6a4ce2;
		}

		.login-header h2 {
			margin: 0;
			font-size: 18px;
			font-weight: bold;
		}

		.login-header p {
			margin: 5px 0 0;
			color: #666;
			font-size: 14px;
		}

		.form-group {
			margin-top: 15px;
			display: flex;
			flex-direction: column;
		}

		.form-group label {
			font-size: 14px;
			margin-bottom: 5px;
		}

		.form-group input {
			padding: 10px;
			border: 1px solid #ddd;
			border-radius: 8px;
			font-size: 14px;
		}

		.options {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin: 10px 0 20px;
			font-size: 14px;
		}

		.options label {
			display: flex;
			align-items: center;
			gap: 5px;
		}

		.options a {
			color: #6a4ce2;
			text-decoration: none;
		}

		.btn-confirm {
			background: #6a4ce2;
			border: none;
			color: #fff;
			width: 100%;
			padding: 12px;
			border-radius: 8px;
			font-size: 16px;
			font-weight: bold;
			cursor: pointer;
		}

		.btn-cancel {
			margin-top: 10px;
			background: #f3f3f3;
			border: none;
			color: #333;
			width: 100%;
			padding: 12px;
			border-radius: 8px;
			font-size: 16px;
			cursor: pointer;
		}

		.switch {
			margin-top: 15px;
			text-align: center;
			font-size: 14px;
		}
		.switch a {
			color: #6a4ce2;
			cursor: pointer;
		}
	</style>
</head>
<body>

<div class="login-container">
	<div class="close-btn">&times;</div>

	<div class="login-header">
		<div class="icon">üîê</div>
		<h2 id="form-title">Log in to your account</h2>
		<p id="form-subtitle">Welcome back! Please enter your details.</p>
	</div>

	<form id="authForm">
		<div class="form-group">
			<label>Email</label>
			<input type="email" id="email" placeholder="Enter your email" required>
		</div>

		<div class="form-group">
			<label>Password</label>
			<input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
		</div>

		<div class="options">
			<label><input type="checkbox"> Remember for 30 days</label>
			<a href="#">Forgot password</a>
		</div>

		<button type="submit" class="btn-confirm" id="mainBtn">Login</button>
		<button type="button" class="btn-cancel">Cancel</button>
	</form>

	<div class="switch">
		<span id="switchText">Don't have an account? <a id="switchLink">Register</a></span>
	</div>
</div>

<script>
	const form = document.getElementById("authForm");
	const emailInput = document.getElementById("email");
	const passwordInput = document.getElementById("password");
	const formTitle = document.getElementById("form-title");
	const formSubtitle = document.getElementById("form-subtitle");
	const mainBtn = document.getElementById("mainBtn");
	const switchText = document.getElementById("switchText");
	const switchLink = document.getElementById("switchLink");

	let isLogin = true;

	function setFormMode(loginMode) {
		isLogin = loginMode;
		if (isLogin) {
			formTitle.textContent = "Log in to your account";
			formSubtitle.textContent = "Welcome back! Please enter your details.";
			mainBtn.textContent = "Login";
			switchText.innerHTML = `Don't have an account? <a id="switchLink">Register</a>`;
		} else {
			formTitle.textContent = "Create an account";
			formSubtitle.textContent = "Please enter your details to register.";
			mainBtn.textContent = "Register";
			switchText.innerHTML = `Already have an account? <a id="switchLink">Login</a>`;
		}
	}
		document.getElementById("switchLink").addEventListener("click", () => {
			setFormMode(!isLogin);
	});

	switchText.addEventListener("click", (e) => {
		if (e.target && e.target.id === "switchLink") {
			e.preventDefault();
			setFormMode(!isLogin);
		}
	});

	const params = new URLSearchParams(window.location.search);
	setFormMode(!params.has("register") ? true : false);


	function getUsers() {
		return JSON.parse(localStorage.getItem("users")) || [];
	}

	function saveUsers(users) {
		localStorage.setItem("users", JSON.stringify(users));
	}

	form.addEventListener("submit", (e) => {
		e.preventDefault();
		const email = emailInput.value.trim();
		const password = passwordInput.value.trim();
		let users = getUsers();

		if (isLogin) {
			const user = users.find(u => u.email === email && u.password === password);
			if (user) {
				alert("‚úÖ Login successful!");
			} else {
				alert("‚ùå Incorrect email or password!");
			}
		} else {
			const exists = users.some(u => u.email === email);
			if (exists) {
				alert("‚ö†Ô∏è User with this email already exists!");
			} else {
				users.push({ email, password });
				saveUsers(users);
				alert("üéâ Registration successful! Now you can log in.");
				isLogin = true;
				formTitle.textContent = "Log in to your account";
				formSubtitle.textContent = "Welcome back! Please enter your details.";
				mainBtn.textContent = "Login";
				switchText.innerHTML = `Don't have an account? <a id="switchLink">Register</a>`;
			}
		}
	});
</script>

</body>
</html>
